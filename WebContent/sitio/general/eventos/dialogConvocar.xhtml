<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


	<p:dialog id="dialogConvocarEstudiantes" header="Convocar estudiantes"
		showEffect="fade" modal="true" widgetVar="dialogConvocarEstudiantes"
		responsive="true" blockScroll="true" draggable="false">

		<p:panelGrid id="dialogConvocarEstudiantesContent" class="ui-fluid"
			columns="1">

			<h:panelGroup>
				<p:outputLabel for="@next" value="TÃ­tulo" />
				<p:inputText id="tituloConvocatoria"
					value="#{gestionConvocatoria.eventoSeleccionado.titulo}" disabled="true">
					<p:autoUpdate />
				</p:inputText>
			</h:panelGroup>

			<h:panelGroup>
				<p:outputLabel for="@next" value="Estudiantes" />
				<p:selectCheckboxMenu id="estudianteConvocatoria" filter="true" emptyLabel="Estudiantes"
					filterMatchMode="startsWith" updateLabel="true" scrollHeight="250"
					multiple="true" value="#{gestionConvocatoria.listaIdEstudiantes}" 
					styleClass="anchoComboBox" > 

					<f:selectItems value="#{gestionConvocatoria.cargarListaEstudiantes()}"
						var="estudiante" itemLabel="#{estudiante.nombre} #{estudiante.apellido} - #{estudiante.documento}"
						itemValue="#{estudiante.idUsuario}" > </f:selectItems>
					<p:autoUpdate />

				</p:selectCheckboxMenu>
			</h:panelGroup>

		</p:panelGrid>
		<f:facet name="footer">
			<p:commandButton value="Crear convocatoria" icon="pi pi-check"
				action="#{gestionConvocatoria.createConvocatoria()}" 
				onclick="PF('dialogConvocarEstudiantes').hide()"/>
			<p:commandButton value="Cancelar" icon="pi pi-times"
				onclick="PF('dialogConvocarEstudiantes').hide()"
				action="#{gestionConvocatoria.limpiarCampos()}"
				class="ui-button-secondary" type="button" />
		</f:facet>
	</p:dialog>
	

</ui:composition>